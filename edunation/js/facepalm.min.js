!function(){var e={};e.launcher=function(){"function"==typeof e.page.default&&e.page.default();var t=window.location.pathname.match(new RegExp("^"+e.bazar.basePath+"(.*)$","i"))[1];if("/"==t)"function"==typeof e.page.index&&e.page.index();else{var a=t.match(/([\w\-]+)\/$/)[1],n=a.replace(/\-/g,"_");"string"==typeof a&&a.length&&("function"==typeof e.page[n]?e.page[n]():"function"==typeof e.page.alternate&&e.page.alternate())}},e.bazar={basePath:"/PiotrM/wp_edunation",logger:/logger/i.test(window.location.hash),mobile:/mobile/i.test(window.location.hash)||void 0},e.addon={isLogger:function(){return e.bazar.logger||!1},isMobile:function(){var t=e.bazar;return(t.logger||!1)&&console.log("isMobile()"),void 0===t.mobile&&(t.mobile=/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),t.mobile},youtube:function(t){try{var a=e.bazar.logger||!1;if("string"!=typeof t.ID)throw"Niepoprawny ID filmu";if(!$(t.iframe).length)throw"iframe nie istnieje";return t.autoplay=t.autoplay||0,t.loop=t.loop||0,t.controls=t.controls||1,t.beforePlay=t.beforePlay||function(){},t.onClose=t.onClose||function(){},{el:t.iframe,url:"https://www.youtube.com/embed/"+t.ID+"?controls="+t.controls+"&autoplay="+t.autoplay+"&loop="+t.loop,open:function(){t.beforePlay(this.el),$(this.el).attr({src:this.url})},close:function(){t.onClose(this.el),$(this.el).attr({src:""})}}}catch(e){a&&console.error(e)}},form:{filters:{imie:/^[a-zA-Z \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,nazwa:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,adres:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\.,\d]+$/,telefon:/^[\d\+ \(\)]+$/,mail:/^[^\d_\.\-][\w\d \.\-!#\$%&'\*\+\/=\?^`\{\|\}~]{1,64}@\w+(?:\.\w+)+$/,tekst:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~\/\\]*$/,tekst_req:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~\/\\]+$/},verify:function(t){e.addon.isLogger()&&console.log("form.verify()");var a=this;if("object"==typeof t&&"number"==typeof t.length){var n=[];for(i in t){var r=$(t[i].item).val();if("object"!=typeof t[i]||void 0===r||"string"!=typeof t[i].filterName||"string"!=typeof t[i].name||void 0===a.filters[t[i].filterName])return!1;a.filters[t[i].filterName].test(r)||n.push(t[i].item)}return!n.length||n}return!1}}},e.page={default:function(){e.addon.isLogger()&&(window.facepalm=e,console.log("page.default()"))},alternate:function(){e.addon.isLogger()&&console.log("page.alternate()")},index:function(){e.addon.isLogger()&&console.log("page.index()")},rezerwacja:function(){e.addon.isLogger()&&console.log("page.rezerwacja()"),function(e,t,a,n,r,o,l,d,s,c){var g={type:r.text().trim(),price:parseFloat(o.text().match(/(\d+(?:,\d+)?)\s*zł/)[1]),duration:parseInt(o.text().match(/(\d+)\s*min/)[1])},f=new Date,u=new Date(f.getFullYear(),f.getMonth()),p=new Date(f.getFullYear(),f.getMonth()),h=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"];l.parent().hide(),s.hide(),e.on({fill:function(e){month=p.getMonth(),year=p.getFullYear(),n.children(".name").text(function(){return h[month]+", "+p.getFullYear()}),t.removeClass("prev next current disable");var a={start:t.filter("[wd="+p.getDay()+"]:first").index(),end:t.filter("[wd="+p.getDay()+"]:first").index()+new Date(p.getFullYear(),p.getMonth()+1,0).getDate()-1};t.slice(0,a.start).addClass("prev disable"),t.slice(a.start,a.end+1).addClass("current"),t.slice(a.end+1).addClass("next disable"),t.filter("[wd=6],[wd=0]").addClass("disable"),f.getMonth()===p.getMonth()&&t.slice(a.start,a.start+f.getDate()-1).addClass("disable"),p.getTime()<u.getTime()&&t.slice(a.start,a.end+1).addClass("disable");var r=new Date(p.getFullYear(),p.getMonth(),1-a.start),o=t.first();for(i=0;i<42;i++)o.attr({d:r.getDate(),m:r.getMonth(),y:r.getFullYear()}).children(".text").text(r.getDate()),o=o.next(),r.setDate(r.getDate()+1)},next:function(t){p.setMonth(p.getMonth()+1),e.triggerHandler("fill")},prev:function(t){p.setMonth(p.getMonth()-1),e.triggerHandler("fill")},reset:function(t){p=new Date(u.getTime()),e.triggerHandler("fill")},time:function(e,t){"open"===t?c.addClass("open"):"close"===t&&c.removeClass("open")}}),e.triggerHandler("fill"),e.find(".tbody").on("click",".tcell.prev",function(t){e.triggerHandler("prev")}),e.find(".tbody").on("click",".tcell.next",function(t){e.triggerHandler("next")}),e.find(".tbody").on("click",".tcell.current",function(t){g.date={day:$(this).attr("d"),month:$(this).attr("m"),year:$(this).attr("y")},e.triggerHandler("time",["open"]),console.log(g)}),c.add(c.find(".box > .close")).click(function(t){e.triggerHandler("time",["close"])}),c.children(".box").click(function(e){e.stopPropagation()}),function(t){t.click(function(t){g.date.hour=$(this).attr("h"),g.date.minute=$(this).attr("m"),l.text("Termin: "+g.date.day+" "+h[g.date.month]),d.text("Godzina: "+g.date.hour+"."+g.date.minute),e.triggerHandler("time",["close"]),l.parent().slideDown(),s.slideDown()})}(c.find(".box > .body .item")),n.children(".nav").click(function(t){$(this).hasClass("next")?e.triggerHandler("next"):$(this).hasClass("prev")&&e.triggerHandler("prev")}),a.click(function(t){e.triggerHandler("reset")})}($("#rezerwacja .etap.data"),$("#rezerwacja .etap.data > .body > .tbody > .tcell"),$("#rezerwacja .etap.data > .head > .button"),$("#rezerwacja .etap.data > .head > .month"),$("#rezerwacja .side > .top > .title"),$("#rezerwacja .side > .top > .cena"),$("#rezerwacja .side > .bot > .dzien"),$("#rezerwacja .side > .bot > .godzina"),$("#rezerwacja .side > .button"),$("#rezerwacja > .popup"))}},$(function(){e.launcher()})}();