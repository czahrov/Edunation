!function(){var e={};e.launcher=function(){"function"==typeof e.page.default&&e.page.default();var t=window.location.pathname.match(new RegExp("^"+e.bazar.basePath+"(.*)$","i"))[1];if("/"==t)"function"==typeof e.page.index&&e.page.index();else{var a=t.match(/([\w\-]+)\/$/)[1],r=a.replace(/\-/g,"_");"string"==typeof a&&a.length&&("function"==typeof e.page[r]?e.page[r]():"function"==typeof e.page.alternate&&e.page.alternate())}},e.bazar={basePath:"/PiotrM/wp_edunation",logger:/logger/i.test(window.location.hash),mobile:/mobile/i.test(window.location.hash)||void 0},e.addon={isLogger:function(){return e.bazar.logger||!1},isMobile:function(){var t=e.bazar;return(t.logger||!1)&&console.log("isMobile()"),void 0===t.mobile&&(t.mobile=/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),t.mobile},youtube:function(t){try{var a=e.bazar.logger||!1;if("string"!=typeof t.ID)throw"Niepoprawny ID filmu";if(!$(t.iframe).length)throw"iframe nie istnieje";return t.autoplay=t.autoplay||0,t.loop=t.loop||0,t.controls=t.controls||1,t.beforePlay=t.beforePlay||function(){},t.onClose=t.onClose||function(){},{el:t.iframe,url:"https://www.youtube.com/embed/"+t.ID+"?controls="+t.controls+"&autoplay="+t.autoplay+"&loop="+t.loop,open:function(){t.beforePlay(this.el),$(this.el).attr({src:this.url})},close:function(){t.onClose(this.el),$(this.el).attr({src:""})}}}catch(e){a&&console.error(e)}},form:{filters:{imie:/^[a-zA-Z \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,nazwa:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,adres:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\.,\d]+$/,telefon:/^[\d\+ \(\)]+$/,mail:/^[^\d_\.\-][\w\d \.\-!#\$%&'\*\+\/=\?^`\{\|\}~]{1,64}@\w+(?:\.\w+)+$/,tekst:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~\/\\]*$/,tekst_req:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~\/\\]+$/},verify:function(t){e.addon.isLogger()&&console.log("form.verify()");var a=this;if("object"==typeof t&&"number"==typeof t.length){var r=[];for(i in t){var n=$(t[i].item).val();if("object"!=typeof t[i]||void 0===n||"string"!=typeof t[i].filterName||"string"!=typeof t[i].name||void 0===a.filters[t[i].filterName])return!1;a.filters[t[i].filterName].test(n)||r.push(t[i].item)}return!r.length||r}return!1}}},e.page={default:function(){e.addon.isLogger()&&(window.facepalm=e,console.log("page.default()"))},alternate:function(){e.addon.isLogger()&&console.log("page.alternate()")},index:function(){e.addon.isLogger()&&console.log("page.index()")},rezerwacja:function(){var t=e.addon,a=null,r={};t.isLogger()&&console.log("page.rezerwacja()"),function(t,i,n,o){var l=0,d=!1,s=function(){return $(t).children(".etap:first").outerWidth(!0)*l};t.on({set:function(e){l<0&&(l=t.children(".etap").length-1),l%=t.children(".etap").length,new TimelineLite({onComplete:function(){d=!1}}).add("start",0).add(TweenLite.to(t,.3,{scrollLeft:s(),ease:Power2.easeInOut}),"start")},next:function(e){d||(d=!0,l++,t.triggerHandler("set"))},prev:function(e){d||(d=!0,l--,t.triggerHandler("set"))}}),i.click(function(e){t.triggerHandler("next"),$(this).hide()}),n.click(function(a){var i=$("#rezerwacja .bot .etap.form form");!0===i.triggerHandler("test")&&$.post(e.bazar.basePath+"/register?meeting",{data:r,form:i.serializeArray()},function(e,a){console.log(e),o.hide(),t.triggerHandler("next")})}),$(window).resize(function(){window.clearTimeout(a),a=window.setTimeout(function(){t.triggerHandler("set")},200)})}($("#rezerwacja .bot > .view"),$("#rezerwacja .side > .button.form"),$("#rezerwacja .side > .button.register"),$("#rezerwacja .side")),function(e,t,a,n,o,l,d,s,c,g,f,u){r={type:o.text().trim(),price:parseFloat(l.text().match(/(\d+(?:,\d+)?)\s*zł/)[1]),duration:parseInt(l.text().match(/(\d+)\s*min/)[1])};var m=new Date,p=new Date(m.getFullYear(),m.getMonth()),h=new Date(m.getFullYear(),m.getMonth()),w=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"];d.parent().hide(),c.hide(),g.hide(),e.on({fill:function(e){month=h.getMonth(),year=h.getFullYear(),n.children(".name").text(function(){return w[month]+", "+h.getFullYear()}),t.removeClass("prev next current disable today");var a={start:t.filter("[wd="+h.getDay()+"]:first").index(),end:t.filter("[wd="+h.getDay()+"]:first").index()+new Date(h.getFullYear(),h.getMonth()+1,0).getDate()-1};t.slice(0,a.start).addClass("prev disable"),t.slice(a.start,a.end+1).addClass("current"),t.slice(a.end+1).addClass("next disable"),t.filter("[wd=6],[wd=0]").addClass("disable"),m.getMonth()===h.getMonth()&&t.slice(a.start,a.start+m.getDate()-1).addClass("disable"),h.getTime()<p.getTime()&&t.slice(a.start,a.end+1).addClass("disable");var r=new Date(h.getFullYear(),h.getMonth(),1-a.start),o=t.first();for(i=0;i<42;i++)o.attr({d:r.getDate(),m:r.getMonth(),y:r.getFullYear()}).children(".text").text(r.getDate()),o=o.next(),r.setDate(r.getDate()+1);t.filter("[d="+m.getDate()+"][m="+m.getMonth()+"][y="+m.getFullYear()+"]").addClass("today")},next:function(t){h.setMonth(h.getMonth()+1),e.triggerHandler("fill")},prev:function(t){h.setMonth(h.getMonth()-1),e.triggerHandler("fill")},reset:function(t){h=new Date(p.getTime()),e.triggerHandler("fill")},time:function(e,t){if("open"===t){if(u.show(),r.date.year==m.getFullYear()&&r.date.month==m.getMonth()&&r.date.day==m.getDate()){var a=u.filter("[h="+m.getHours()+"][m="+30*Math.ceil(m.getMinutes()/30)+"]");a.prevAll(".item").add(a.parent().prevAll(".pora").children(".item")).hide()}f.addClass("open")}else"close"===t&&f.removeClass("open")}}),e.triggerHandler("fill"),e.find(".tbody").on("click",".tcell.prev",function(t){e.triggerHandler("prev")}),e.find(".tbody").on("click",".tcell.next",function(t){e.triggerHandler("next")}),e.find(".tbody").on("click",".tcell.current:not(.disable)",function(t){r.date={day:$(this).attr("d"),month:$(this).attr("m"),year:$(this).attr("y")},e.triggerHandler("time",["open"]),console.log(r)}),f.add(f.find(".box > .close")).click(function(t){e.triggerHandler("time",["close"])}),f.children(".box").click(function(e){e.stopPropagation()}),function(t){t.click(function(t){r.date.hour=$(this).attr("h"),r.date.minute=$(this).attr("m");var a=r.date.day.toString().length<2?"0"+r.date.day:r.date.day,i=r.date.hour.toString().length<2?"0"+r.date.hour:r.date.hour,n=r.date.minute.toString().length<2?"0"+r.date.minute:r.date.minute;d.text("Termin: "+a+" "+w[r.date.month]),s.text("Godzina: "+i+"."+n),e.triggerHandler("time",["close"]),d.parent().slideDown(),c.slideDown()})}(f.find(".box > .body .item")),n.children(".nav").click(function(t){$(this).hasClass("next")?e.triggerHandler("next"):$(this).hasClass("prev")&&e.triggerHandler("prev")}),a.click(function(t){e.triggerHandler("reset")})}($("#rezerwacja .etap.data"),$("#rezerwacja .etap.data > .body > .tbody > .tcell"),$("#rezerwacja .etap.data > .head > .button"),$("#rezerwacja .etap.data > .head > .month"),$("#rezerwacja .side > .top > .title"),$("#rezerwacja .side > .top > .cena"),$("#rezerwacja .side > .bot > .dzien"),$("#rezerwacja .side > .bot > .godzina"),$("#rezerwacja .side > .button.form"),$("#rezerwacja .side > .button.register"),$("#rezerwacja > .popup"),$("#rezerwacja > .popup .body .item")),function(e,a,r){var i=[{name:"imie",item:e.find(".imie"),filterName:"imie"},{name:"mail",item:e.find(".mail"),filterName:"mail"},{name:"tel",item:e.find(".tel"),filterName:"telefon"},{name:"msg",item:e.find(".msg"),filterName:"tekst"}];e.on({test:function(e){var a=t.form.verify(i);return!0===a?r.show():r.hide(),a}}),a.blur(function(t){e.triggerHandler("test")})}($("#rezerwacja .bot .etap.form form"),$("#rezerwacja .bot .etap.form form").find("input, textarea"),$("#rezerwacja .bot > .side > .button.register")),$("#rezerwacja .bot .etap.summary")}},$(function(){e.launcher()})}();