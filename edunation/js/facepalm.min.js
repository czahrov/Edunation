!function(){var e={};e.launcher=function(){"function"==typeof e.page.default&&e.page.default();var t=window.location.pathname.match(new RegExp("^"+e.bazar.basePath+"(.*)$","i"))[1];if("/"==t)"function"==typeof e.page.index&&e.page.index();else{var a=t.match(/([\w\-]+)\/$/)[1],r=a.replace(/\-/g,"_");"string"==typeof a&&a.length&&("function"==typeof e.page[r]?e.page[r]():"function"==typeof e.page.alternate&&e.page.alternate())}},e.bazar={basePath:"/PiotrM/wp_edunation",logger:/logger/i.test(window.location.hash),mobile:/mobile/i.test(window.location.hash)||void 0},e.addon={isLogger:function(){return e.bazar.logger||!1},isMobile:function(){var t=e.bazar;return(t.logger||!1)&&console.log("isMobile()"),void 0===t.mobile&&(t.mobile=/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),t.mobile},youtube:function(t){try{var a=e.bazar.logger||!1;if("string"!=typeof t.ID)throw"Niepoprawny ID filmu";if(!$(t.iframe).length)throw"iframe nie istnieje";return t.autoplay=t.autoplay||0,t.loop=t.loop||0,t.controls=t.controls||1,t.beforePlay=t.beforePlay||function(){},t.onClose=t.onClose||function(){},{el:t.iframe,url:"https://www.youtube.com/embed/"+t.ID+"?controls="+t.controls+"&autoplay="+t.autoplay+"&loop="+t.loop,open:function(){t.beforePlay(this.el),$(this.el).attr({src:this.url})},close:function(){t.onClose(this.el),$(this.el).attr({src:""})}}}catch(e){a&&console.error(e)}},form:{filters:{imie:/^[a-zA-Z \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,nazwa:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ]+$/,adres:/^[\w \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\.,\d]+$/,telefon:/^[\d\+ \(\)]+$/,mail:/^[^\d_\.\-][\w\d \.\-!#\$%&'\*\+\/=\?^`\{\|\}~]{1,64}@\w+(?:\.\w+)+$/,tekst:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~\/\\]*$/,tekst_req:/^[\w\s \-żźćńółąśęŻŹĆŃÓŁĄŚĘ\[\]\{\}\|\+\?\.,\:;\$\^\*\(\)!#%~\/\\]+$/},verify:function(t){e.addon.isLogger()&&console.log("form.verify()");var a=this;if("object"==typeof t&&"number"==typeof t.length){var r=[];for(i in t){var n=$(t[i].item).val();if("object"!=typeof t[i]||void 0===n||"string"!=typeof t[i].filterName||"string"!=typeof t[i].name||void 0===a.filters[t[i].filterName])return!1;a.filters[t[i].filterName].test(n)||r.push(t[i].item)}return!r.length||r}return!1}}},e.page={default:function(){e.addon.isLogger()&&(window.facepalm=e,console.log("page.default()"))},alternate:function(){e.addon.isLogger()&&console.log("page.alternate()")},index:function(){e.addon.isLogger()&&console.log("page.index()")},rezerwacja:function(){var t=e.addon,a=null,r={};t.isLogger()&&console.log("page.rezerwacja()"),function(t,i,n,o){var l=0,s=!1,d=function(){return $(t).children(".etap:first").outerWidth(!0)*l};t.on({set:function(e){l<0&&(l=t.children(".etap").length-1),l%=t.children(".etap").length,new TimelineLite({onComplete:function(){s=!1}}).add("start",0).add(TweenLite.to(t,.3,{scrollLeft:d(),ease:Power2.easeInOut}),"start")},next:function(e){s||(s=!0,l++,t.triggerHandler("set"))},prev:function(e){s||(s=!0,l--,t.triggerHandler("set"))}}),i.click(function(e){t.triggerHandler("next"),$(this).hide()}),n.click(function(a){var i=$("#rezerwacja .bot .etap.form form");if(!0===i.triggerHandler("test")){var n={};$.each(i.serializeArray(),function(e,t){n[t.name]=t.value}),window.meeting_data={meeting:r,form:n},$.post(e.bazar.basePath+"/register?meeting",{data:r,form:n},function(a,r){console.log(a),o.hide(),t.triggerHandler("next"),$.getScript(e.bazar.basePath+"/wp-content/themes/edunation/js/googlecal.min.js")})}}),$(window).resize(function(){window.clearTimeout(a),a=window.setTimeout(function(){t.triggerHandler("set")},200)})}($("#rezerwacja .bot > .view"),$("#rezerwacja .side > .button.form"),$("#rezerwacja .side > .button.register"),$("#rezerwacja .side")),function(e,t,a,n,o,l,s,d,c,g,u,f,m){r={type:o.text().trim(),price:parseFloat(l.text().match(/(\d+(?:,\d+)?)\s*zł/)[1]),duration:parseInt(l.text().match(/(\d+)\s*min/)[1])};var p=new Date,h=new Date(p.getFullYear(),p.getMonth()),w=new Date(p.getFullYear(),p.getMonth()),b=["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"];s.parent().hide(),c.hide(),g.hide(),e.on({fill:function(e){month=w.getMonth(),year=w.getFullYear(),n.children(".name").text(function(){return b[month]+", "+w.getFullYear()}),t.removeClass("prev next current disable today");var a={start:t.filter("[wd="+w.getDay()+"]:first").index(),end:t.filter("[wd="+w.getDay()+"]:first").index()+new Date(w.getFullYear(),w.getMonth()+1,0).getDate()-1};t.slice(0,a.start).addClass("prev disable"),t.slice(a.start,a.end+1).addClass("current"),t.slice(a.end+1).addClass("next disable"),t.filter("[wd=6],[wd=0]").addClass("disable"),p.getMonth()===w.getMonth()&&t.slice(a.start,a.start+p.getDate()-1).addClass("disable"),w.getTime()<h.getTime()&&t.slice(a.start,a.end+1).addClass("disable");var r=new Date(w.getFullYear(),w.getMonth(),1-a.start),o=t.first();for(i=0;i<42;i++)o.attr({d:r.getDate(),m:r.getMonth(),y:r.getFullYear()}).children(".text").text(r.getDate()),o=o.next(),r.setDate(r.getDate()+1);t.filter("[d="+p.getDate()+"][m="+p.getMonth()+"][y="+p.getFullYear()+"]").addClass("today")},next:function(t){w.setMonth(w.getMonth()+1),e.triggerHandler("fill")},prev:function(t){w.setMonth(w.getMonth()-1),e.triggerHandler("fill")},reset:function(t){w=new Date(h.getTime()),e.triggerHandler("fill")},time:function(e,t){"open"===t?$.get("../register?slots="+[r.date.day,parseInt(r.date.month)+1,r.date.year,r.duration].join(";"),function(e){try{var t=JSON.parse(e);$.each(t,function(e,t){var a,r=new Date(1e3*t),i=r.getHours(),n=r.getMinutes();a=i<12?"rano":i<17?"popoludnie":"wieczor";var o=f.filter('[class*="'+a+'"]').children(".hide");o.clone().attr({h:i,m:n}).html(function(){return(i.toString().length<2?"0"+i:i)+":"+(n.toString().length<2?"0"+n:n)}).removeClass("hide").appendTo(o.parent())}),u.addClass("open")}catch(e){}}):"close"===t&&(u.find(".body .item:not(.hide)").remove(),u.removeClass("open"))}}),e.triggerHandler("fill"),e.find(".tbody").on("click",".tcell.prev",function(t){e.triggerHandler("prev")}),e.find(".tbody").on("click",".tcell.next",function(t){e.triggerHandler("next")}),e.find(".tbody").on("click",".tcell.current:not(.disable)",function(t){r.date={day:$(this).attr("d"),month:$(this).attr("m"),year:$(this).attr("y")},e.triggerHandler("time",["open"])}),u.add(u.find(".box > .close")).click(function(t){e.triggerHandler("time",["close"])}),u.children(".box").click(function(e){e.stopPropagation()}),u.find(".box .body").on("click",".item:not(.hide)",function(t){r.date.hour=$(this).attr("h"),r.date.minute=$(this).attr("m");var a=r.date.day.toString().length<2?"0"+r.date.day:r.date.day,i=r.date.hour.toString().length<2?"0"+r.date.hour:r.date.hour,n=r.date.minute.toString().length<2?"0"+r.date.minute:r.date.minute;s.text("Termin: "+a+" "+b[r.date.month]),d.text("Godzina: "+i+"."+n),e.triggerHandler("time",["close"]),s.parent().slideDown(),c.slideDown()}),n.children(".nav").click(function(t){$(this).hasClass("next")?e.triggerHandler("next"):$(this).hasClass("prev")&&e.triggerHandler("prev")}),a.click(function(t){e.triggerHandler("reset")})}($("#rezerwacja .etap.data"),$("#rezerwacja .etap.data > .body > .tbody > .tcell"),$("#rezerwacja .etap.data > .head > .button"),$("#rezerwacja .etap.data > .head > .month"),$("#rezerwacja .side > .top > .title"),$("#rezerwacja .side > .top > .cena"),$("#rezerwacja .side > .bot > .dzien"),$("#rezerwacja .side > .bot > .godzina"),$("#rezerwacja .side > .button.form"),$("#rezerwacja .side > .button.register"),$("#rezerwacja > .popup"),$("#rezerwacja > .popup .body > .pora"),$("#rezerwacja > .popup .body .item")),function(e,a,r){var i=[{name:"imie",item:e.find(".imie"),filterName:"imie"},{name:"mail",item:e.find(".mail"),filterName:"mail"},{name:"tel",item:e.find(".tel"),filterName:"telefon"},{name:"msg",item:e.find(".msg"),filterName:"tekst"}];e.on({test:function(e){var a=t.form.verify(i);return!0===a?r.show():r.hide(),a}}),a.blur(function(t){e.triggerHandler("test")})}($("#rezerwacja .bot .etap.form form"),$("#rezerwacja .bot .etap.form form").find("input, textarea"),$("#rezerwacja .bot > .side > .button.register")),function(e,t,a,r,i,n,o,l){l.click(function(e){$.getScript("https://apis.google.com/js/api.js",function(e,t){"success"===t&&handleClientLoad()})})}($("#rezerwacja .bot .etap.summary"),$("#rezerwacja .bot .etap.summary > .title"),$("#rezerwacja .bot .etap.summary > .subtitle"),$("#rezerwacja .bot .etap.summary > .table > .left > .title"),$("#rezerwacja .bot .etap.summary > .table > .left > .subtitle"),$("#rezerwacja .bot .etap.summary > .table > .right > .title"),$("#rezerwacja .bot .etap.summary > .table > .right > .subtitle"),$("#rezerwacja .bot .etap.summary > .table > .right > .button"))},spotkania:function(){e.addon.isLogger()&&console.log("page.spotkania()")}},$(function(){e.launcher()})}();