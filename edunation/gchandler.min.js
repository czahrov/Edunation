$(function(){function e(){gapi.client.init({apiKey:i,clientId:n,discoveryDocs:o,scope:a}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(t),t(gapi.auth2.getAuthInstance().isSignedIn.get()),s.click(function(){console.log("login"),gapi.auth2.getAuthInstance().signIn()}),c.click(function(){console.log("logout"),gapi.auth2.getAuthInstance().signOut()})})}function t(e){e?(window.authorised=!0,s.hide(),c.show()):(window.authorised=!1,s.show(),c.hide())}var n="330101275125-74jvdti5ufedltb82rsuel31dqiu7qf2.apps.googleusercontent.com",i="AIzaSyC2wgUJzQlqo924FvzKNOhaucbP9YRq4HM",o=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"],a="https://www.googleapis.com/auth/calendar",s=$("#login"),c=$("#logout"),u="kaczanowskii@gmail.com";void 0===window.gapi&&$.getScript("https://apis.google.com/js/api.js",function(t,n){"success"===n&&gapi.load("client:auth2",e)}),window.gch={freeBusy:function(e,t){gapi.client.calendar.freebusy.query({items:[{id:u}],timeMin:new Date(e).toISOString(),timeMax:new Date(t).toISOString(),timeZone:"Europe/Warsaw"}).then(function(e){window.freeBusy=e.result.calendars})},addEvent:function(e,t,n,i){var o={end:{dateTime:new Date(t).toISOString(),timeZone:"Europe/Warsaw"},start:{dateTime:new Date(e).toISOString(),timeZone:"Europe/Warsaw"},summary:n,description:i,attendees:[{email:u}]};gapi.client.calendar.events.insert({calendarId:"primary",sendNotifications:!0,resource:o}).then(function(e){console.log(e)})}}});